<!doctype html><html lang=fr dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='
 Solutions aux problèmes résolus


 Solution du problème 1


 Voici une solution possible (affichage récursif de l’arbre DOM avec indentation) :

import org.w3c.dom.*;
import javax.xml.parsers.*;

public class Arbre {

    public static void traite(Node node, int niveau) {
        String indent = "";
        for (int i = 0; i < niveau; i++) {
            indent += "    "; // 4 spaces per level
        }

        System.out.println(indent + "Nom : " + node.getNodeName() +
                           " | Valeur : " + node.getNodeValue());

        NodeList enfants = node.getChildNodes();
        if (enfants != null) {
            for (int i = 0; i < enfants.getLength(); i++) {
                traite(enfants.item(i), niveau + 2);
            }
        }
    }

    public static void main(String[] args) throws Exception {
        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
        DocumentBuilder parser = factory.newDocumentBuilder();
        Document doc = parser.parse(args[0]);

        traite(doc, 0);
    }
}

 Solution du problème 2

import org.w3c.dom.*;
import java.io.*;
import javax.xml.parsers.*;
import javax.xml.transform.*;
import javax.xml.transform.dom.DOMSource;
import javax.xml.transform.stream.StreamResult;
public class Bottin {
    public static void main(String[] args) throws Exception {
        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
        factory.setNamespaceAware(true);
        DocumentBuilder parser = factory.newDocumentBuilder();
        Document doc = parser.parse("bottin.xml");
        Element racine = doc.getDocumentElement();
        NodeList personnes = racine.getChildNodes();
        if (args[0].equals("efface")) {
            for (int i = 0; i < personnes.getLength(); i++) {
                Node n = personnes.item(i);
                if (n.getNodeType() == Node.ELEMENT_NODE) {
                    Element e = (Element) n;
                    if (e.getAttribute("nom").equals(args[1])) {
                        e.getParentNode().removeChild(e);
                    }
                }
            }
        }
        else if (args[0].equals("cherche")) {
            for (int i = 0; i < personnes.getLength(); i++) {
                Node n = personnes.item(i);
                if (n.getNodeType() == Node.ELEMENT_NODE) {
                    Element e = (Element) n;
                    if (e.getAttribute("nom").equals(args[1])) {
                        System.out.println(e.getAttribute("téléphone"));
                    }
                }
            }
        }
        else if (args[0].equals("ajoute")) {
            boolean existe = false;
            for (int i = 0; i < personnes.getLength(); i++) {
                Node n = personnes.item(i);
                if (n.getNodeType() == Node.ELEMENT_NODE) {
                    Element e = (Element) n;
                    if (e.getAttribute("nom").equals(args[1])) {
                        e.setAttribute("téléphone", args[2]);
                        existe = true;
                    }
                }
            }
            if (!existe) {
                Element p = doc.createElement("personne");
                p.setAttribute("nom", args[1]);
                p.setAttribute("téléphone", args[2]);
                racine.appendChild(p);
            }
        }
        // Sauvegarde du fichier modifié
        TransformerFactory tf = TransformerFactory.newInstance();
        Transformer t = tf.newTransformer();
        t.setOutputProperty(OutputKeys.ENCODING, "ISO-8859-1");
        DOMSource source = new DOMSource(doc);
        StreamResult result = new StreamResult(new FileWriter("bottin.xml"));
        t.transform(source, result);
    }
}

 Utilisation :
'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://lemire.github.io/inf6450-hugo/docs/semaines/semaine_12/solutions_aux_problemes_resolus/"><meta property="og:site_name" content="INF 6450"><meta property="og:title" content="Solutions aux problèmes résolus"><meta property="og:description" content='Solutions aux problèmes résolus Solution du problème 1 Voici une solution possible (affichage récursif de l’arbre DOM avec indentation) : import org.w3c.dom.*; import javax.xml.parsers.*; public class Arbre { public static void traite(Node node, int niveau) { String indent = ""; for (int i = 0; i < niveau; i++) { indent += " "; // 4 spaces per level } System.out.println(indent + "Nom : " + node.getNodeName() + " | Valeur : " + node.getNodeValue()); NodeList enfants = node.getChildNodes(); if (enfants != null) { for (int i = 0; i < enfants.getLength(); i++) { traite(enfants.item(i), niveau + 2); } } } public static void main(String[] args) throws Exception { DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance(); DocumentBuilder parser = factory.newDocumentBuilder(); Document doc = parser.parse(args[0]); traite(doc, 0); } } Solution du problème 2 import org.w3c.dom.*; import java.io.*; import javax.xml.parsers.*; import javax.xml.transform.*; import javax.xml.transform.dom.DOMSource; import javax.xml.transform.stream.StreamResult; public class Bottin { public static void main(String[] args) throws Exception { DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance(); factory.setNamespaceAware(true); DocumentBuilder parser = factory.newDocumentBuilder(); Document doc = parser.parse("bottin.xml"); Element racine = doc.getDocumentElement(); NodeList personnes = racine.getChildNodes(); if (args[0].equals("efface")) { for (int i = 0; i < personnes.getLength(); i++) { Node n = personnes.item(i); if (n.getNodeType() == Node.ELEMENT_NODE) { Element e = (Element) n; if (e.getAttribute("nom").equals(args[1])) { e.getParentNode().removeChild(e); } } } } else if (args[0].equals("cherche")) { for (int i = 0; i < personnes.getLength(); i++) { Node n = personnes.item(i); if (n.getNodeType() == Node.ELEMENT_NODE) { Element e = (Element) n; if (e.getAttribute("nom").equals(args[1])) { System.out.println(e.getAttribute("téléphone")); } } } } else if (args[0].equals("ajoute")) { boolean existe = false; for (int i = 0; i < personnes.getLength(); i++) { Node n = personnes.item(i); if (n.getNodeType() == Node.ELEMENT_NODE) { Element e = (Element) n; if (e.getAttribute("nom").equals(args[1])) { e.setAttribute("téléphone", args[2]); existe = true; } } } if (!existe) { Element p = doc.createElement("personne"); p.setAttribute("nom", args[1]); p.setAttribute("téléphone", args[2]); racine.appendChild(p); } } // Sauvegarde du fichier modifié TransformerFactory tf = TransformerFactory.newInstance(); Transformer t = tf.newTransformer(); t.setOutputProperty(OutputKeys.ENCODING, "ISO-8859-1"); DOMSource source = new DOMSource(doc); StreamResult result = new StreamResult(new FileWriter("bottin.xml")); t.transform(source, result); } } Utilisation :'><meta property="og:locale" content="fr"><meta property="og:type" content="article"><meta property="article:section" content="docs"><title>Solutions aux problèmes résolus | INF 6450</title><link rel=icon href=/inf6450-hugo/favicon.png><link rel=manifest href=/inf6450-hugo/manifest.json><link rel=canonical href=https://lemire.github.io/inf6450-hugo/docs/semaines/semaine_12/solutions_aux_problemes_resolus/><link rel=stylesheet href=/inf6450-hugo/book.min.a006656c8516e75b9916bf87553cdae09b7d022a0ef8c51fcafcb935e4e3d410.css integrity="sha256-oAZlbIUW51uZFr+HVTza4Jt9AioO+MUfyvy5NeTj1BA=" crossorigin=anonymous><script defer src=/inf6450-hugo/fuse.min.js></script><script defer src=/inf6450-hugo/fr.search.min.552ad04fc0f7041c54b99a2ec9e077760bf8af3b2d3827824bad0eedb1b0a2c4.js integrity="sha256-VSrQT8D3BBxUuZouyeB3dgv4rzstOCeCS60O7bGwosQ=" crossorigin=anonymous></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.css><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/katex.min.js></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.22/dist/contrib/auto-render.min.js onload=renderMathInElement(document.body)></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/inf6450-hugo/><img src=/inf6450-hugo/favicon.png alt=Logo class=book-icon><span>INF 6450</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Rechercher aria-label=Rechercher maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><span>Semaines</span><ul><li><input type=checkbox id=section-662cc567f710f13ba33a8b95f1c4774b class=toggle>
<label for=section-662cc567f710f13ba33a8b95f1c4774b class=flex><a href=/inf6450-hugo/docs/semaines/semaine_1/ class=flex-auto>Semaine 1</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_1/installation_dun_navigateur_moderne/>Installation d’un navigateur moderne</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_1/creer_un_fichier_xml/>Créer un fichier XML</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_1/introduction_a_xml/>Introduction à XML</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_1/principes_du_xml/>Principes du XML</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_1/encodage_des_caracteres_unicode/>Encodage des caractères Unicode</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_1/mise_en_forme_du_xml/>Mise en forme du XML</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_1/laboratoire_sur_la_structure_en_arbre_des_documents_xml/>Laboratoire sur la structure en arbre des documents XML</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_1/labo/>Vérificateur de XML bien formé</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_1/petit_guide_dusage_du_courriel_efficace/>Petit guide d’usage du courriel efficace</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_1/autoevaluation/>Autoévaluation</a></li></ul></li><li><input type=checkbox id=section-c76990db7973ec20e567f82efc226c40 class=toggle>
<label for=section-c76990db7973ec20e567f82efc226c40 class=flex><a role=button class=flex-auto>Semaine 2</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_2/definition_de_type_de_document/>Définition de type de document</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_2/validation_de_documents_xml/>Validation de documents XML</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_2/autoevaluation/>Autoévaluation</a></li></ul></li><li><input type=checkbox id=section-210d14d44c656daf110a7cf2152571c8 class=toggle>
<label for=section-210d14d44c656daf110a7cf2152571c8 class=flex><a role=button class=flex-auto>Semaine 3</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_3/espace_de_nom/>Espace de nom</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_3/le_fichier_pomxml_en_java/>Le fichier pom.xml en Java</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_3/le_fichier_sitemapxml/>Le fichier sitemap.xml</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_3/les_fichiers_csproj_en_c/>Les fichiers csproj en C#</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_3/rss/>Les formats RSS et Atom</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_3/three/>X3D</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_3/le_fichier_androidmanifestxml/>Le fichier AndroidManifest.xml</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_3/autoevaluation/>Autoévaluation</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_3/travail_1/>Travail 1</a></li></ul></li><li><input type=checkbox id=section-bf84fe7bc1d1fc0ca62c63ef5e7ace91 class=toggle>
<label for=section-bf84fe7bc1d1fc0ca62c63ef5e7ace91 class=flex><a role=button class=flex-auto>Semaine 4</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_4/xhtml/>XHTML</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_4/html_5/>HTML 5</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_4/serveurweb/>HTML 5</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_4/mathml/>MathML</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_4/svg/>SVG</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_4/base64/>Base64</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_4/autoevaluation/>Autoévaluation</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_4/markdown/>MarkDown</a></li></ul></li><li><input type=checkbox id=section-d46744b4036ae363c9fd080c952b7335 class=toggle>
<label for=section-d46744b4036ae363c9fd080c952b7335 class=flex><a role=button class=flex-auto>Semaine 5</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_5/format_de_document/>Format de document</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_5/autoevaluation/>Autoévaluation</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_5/familiarisation_avec_epub/>Familiarisation avec EPUB</a></li></ul></li><li><input type=checkbox id=section-d2ff5c0f26e6dbc38bf6597e7895b8bd class=toggle>
<label for=section-d2ff5c0f26e6dbc38bf6597e7895b8bd class=flex><a role=button class=flex-auto>Semaine 6</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_6/les_documents_epub/>Les documents EPUB</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_6/utilisation_de_sigil_et_de_thorium/>Utilisation de Sigil et de Thorium</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_6/des_pages_web_dynamiques_avec_javascript/>Des pages web dynamiques avec JavaScript</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_6/travail_2/>Travail 2</a></li></ul></li><li><input type=checkbox id=section-a1f707431766a71a2f3942e74979f73c class=toggle>
<label for=section-a1f707431766a71a2f3942e74979f73c class=flex><a role=button class=flex-auto>Semaine 7</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_7/xpath_un_premier_laboratoire/>XPath : un premier laboratoire</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_7/xpath_approfondissement/>XPath : approfondissement</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_7/xpath_en_ligne_java/>XPath avec Java</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_7/xpath_second_laboratoire/>XPath : second laboratoire</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_7/autoevaluation/>Autoévaluation</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_7/xpath_20_et_30/>XPath 2.0 et 3.0</a></li></ul></li><li><input type=checkbox id=section-899c8eb30753488ee75ebbf29f7f4c85 class=toggle>
<label for=section-899c8eb30753488ee75ebbf29f7f4c85 class=flex><a role=button class=flex-auto>Semaine 8</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_8/introduction_au_xslt/>Introduction au XSLT</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_8/xslt_en_ligne/>XSLT en ligne</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_8/xslt_en_ligne_java/>XSLT avec Java</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_8/un_peu_plus_de_xslt_fonctionnement_de_base_template_et_value-of/>Un peu plus de XSLT : fonctionnement de base, template et value-of</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_8/les_valeurs_dattribut/>Les valeurs d’attribut</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_8/xslt_modulaire/>XSLT modulaire</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_8/les_noms_delements/>Les noms d’éléments</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_8/attribut_mode/>Attribut mode</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_8/la_fonction_generate-id/>La fonction generate-id</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_8/les_tests/>Les tests</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_8/les_boucles/>Les boucles</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_8/cles_et_aggregation/>Clés et aggrégation</a></li></ul></li><li><input type=checkbox id=section-352621211a7ea376f6dda9d3797da385 class=toggle>
<label for=section-352621211a7ea376f6dda9d3797da385 class=flex><a role=button class=flex-auto>Semaine 9</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_9/generer_des_noeuds_dynamiquement/>Générer des noeuds dynamiquement</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_9/variables_et_parametres/>Variables et paramètres</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_9/mise_en_forme/>Mise en forme</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_9/espaces_de_noms/>Espaces de noms</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_9/les_axes/>Les axes</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_9/etude_dun_exemple_docbook/>Étude d’un exemple (DocBook)</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_9/laboratoire_xslt/>Laboratoire XSLT</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_9/laboratoire_xslt_avec_python_optionnel/>Laboratoire XSLT avec Python (optionnel)</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_9/xslt_20_et_30/>XSLT 2.0 et 3.0</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_9/autoevaluation/>Autoévaluation</a></li></ul></li><li><input type=checkbox id=section-716be24b739235fbf8dd07bc5193a230 class=toggle>
<label for=section-716be24b739235fbf8dd07bc5193a230 class=flex><a role=button class=flex-auto>Semaine 10</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_10/xquery/>XQuery</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_10/laboratoire_xquery_avec_python_optionnel/>Laboratoire XQuery avec Python (optionnel)</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_10/css/>CSS</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_10/css2/>CSS (partie 2)</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_10/css3/>CSS (partie 3)</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_10/laboratoire_css/>Laboratoire CSS</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_10/cssmathml/>Laboratoire CSS/MathML</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_10/autoevaluation/>Autoévaluation</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_10/les_langages_declaratifs/>Les langages déclaratifs</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_10/travail_3/>Travail 3</a></li></ul></li><li><input type=checkbox id=section-f91b0f62594bddfc725bde8b2f3b5e82 class=toggle>
<label for=section-f91b0f62594bddfc725bde8b2f3b5e82 class=flex><a role=button class=flex-auto>Semaine 11</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_11/modeles_de_programmation/>Modèles de programmation</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_11/json/>JSON</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_11/activite_jsonxml_avec_jackson/>Activité JSON/XML avec Jackson</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_11/jq/>Activité avec jq (optionnel)</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_11/geojson/>GeoJSON</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_11/autoevaluation/>Autoévaluation</a></li></ul></li><li><input type=checkbox id=section-15328d8e9bed4b287b48fee1d849daea class=toggle checked>
<label for=section-15328d8e9bed4b287b48fee1d849daea class=flex><a role=button class=flex-auto>Semaine 12</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_12/dom/>DOM</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_12/autoevaluation_dom/>Autoévaluation DOM</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_12/problemes_resolus/>Problèmes résolus</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_12/solutions_aux_problemes_resolus/ class=active>Solutions aux problèmes résolus</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_12/dom_javascript_et_autres_langages/>DOM : JavaScript et autres langages</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_12/asynchronous_javascript_and_xml_ajax/>Asynchronous JavaScript And XML (AJAX)</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_12/yaml/>YAML</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_12/docx_microsoft_word/>Docx (Microsoft Word)</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_12/simdjson/>Méthode On-Demand avec simdjson (C++)</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_12/travail_4/>Travail 4</a></li></ul></li><li><input type=checkbox id=section-4978957121bd63cf0228c9834e06fa0b class=toggle>
<label for=section-4978957121bd63cf0228c9834e06fa0b class=flex><a role=button class=flex-auto>Semaine 13</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_13/du_xml_aux_graphes/>Du XML aux graphes</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_13/introduction_au_rdf/>Introduction au RDF</a></li></ul></li><li><input type=checkbox id=section-4b52c904429784d0d6f61687b23e71ab class=toggle>
<label for=section-4b52c904429784d0d6f61687b23e71ab class=flex><a role=button class=flex-auto>Semaine 14</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_14/applications_du_rdf/>Applications du RDF</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_14/autoevaluation/>Autoévaluation</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_14/sparql/>Activité SPARQL</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_14/travail_5/>Travail 5</a></li></ul></li><li><input type=checkbox id=section-0970d75389f23d3a6141226436ccccb5 class=toggle>
<label for=section-0970d75389f23d3a6141226436ccccb5 class=flex><a role=button class=flex-auto>Semaine 15</a></label><ul><li><a href=/inf6450-hugo/docs/semaines/semaine_15/examen_preparatoire/>Examen préparatoire</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_15/solutions_a_lexamen_preparatoire/>Solutions à l’examen préparatoire</a></li><li><a href=/inf6450-hugo/docs/semaines/semaine_15/examen/>Examen</a></li></ul></li><li><a href=/inf6450-hugo/docs/semaines/evaluation/>Évaluation</a></li><li><a href=/inf6450-hugo/docs/semaines/glossaire/>Glossaire</a></li><li><a href=/inf6450-hugo/docs/semaines/pense-bete_dtd/>Pense-bête DTD</a></li><li><a href=/inf6450-hugo/docs/semaines/professeur/>Professeur</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/inf6450-hugo/svg/menu.svg class=book-icon alt=Menu></label><h3>Solutions aux problèmes résolus</h3><label for=toc-control><img src=/inf6450-hugo/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents></nav></aside></header><article class="markdown book-article"><h1>Solutions aux problèmes résolus</h1><h2>Solution du problème 1</h2><p>Voici une solution possible (affichage récursif de l’arbre DOM avec indentation) :</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>org.w3c.dom.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>javax.xml.parsers.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>Arbre</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>traite</span><span style=color:#1f2328>(</span>Node<span style=color:#fff> </span>node<span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#cf222e>int</span><span style=color:#fff> </span>niveau<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>String<span style=color:#fff> </span>indent<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;&#34;</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>int</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>&lt;</span><span style=color:#fff> </span>niveau<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#0550ae>++</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span>indent<span style=color:#fff> </span><span style=color:#0550ae>+=</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;    &#34;</span><span style=color:#1f2328>;</span><span style=color:#fff> </span><span style=color:#57606a>// 4 spaces per level</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span>indent<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;Nom : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>node<span style=color:#1f2328>.</span><span style=color:#1f2328>getNodeName</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                           </span><span style=color:#0a3069>&#34; | Valeur : &#34;</span><span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>node<span style=color:#1f2328>.</span><span style=color:#1f2328>getNodeValue</span><span style=color:#1f2328>());</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>NodeList<span style=color:#fff> </span>enfants<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>node<span style=color:#1f2328>.</span><span style=color:#1f2328>getChildNodes</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>enfants<span style=color:#fff> </span><span style=color:#0550ae>!=</span><span style=color:#fff> </span><span style=color:#cf222e>null</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>int</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>&lt;</span><span style=color:#fff> </span>enfants<span style=color:#1f2328>.</span><span style=color:#1f2328>getLength</span><span style=color:#1f2328>();</span><span style=color:#fff> </span>i<span style=color:#0550ae>++</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>traite<span style=color:#1f2328>(</span>enfants<span style=color:#1f2328>.</span><span style=color:#1f2328>item</span><span style=color:#1f2328>(</span>i<span style=color:#1f2328>),</span><span style=color:#fff> </span>niveau<span style=color:#fff> </span><span style=color:#0550ae>+</span><span style=color:#fff> </span>2<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>Exception<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>DocumentBuilderFactory<span style=color:#fff> </span>factory<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>DocumentBuilderFactory<span style=color:#1f2328>.</span><span style=color:#1f2328>newInstance</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>DocumentBuilder<span style=color:#fff> </span>parser<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>factory<span style=color:#1f2328>.</span><span style=color:#1f2328>newDocumentBuilder</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Document<span style=color:#fff> </span>doc<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>parser<span style=color:#1f2328>.</span><span style=color:#1f2328>parse</span><span style=color:#1f2328>(</span>args<span style=color:#0550ae>[</span>0<span style=color:#0550ae>]</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>traite<span style=color:#1f2328>(</span>doc<span style=color:#1f2328>,</span><span style=color:#fff> </span>0<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><h3>Solution du problème 2</h3><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>org.w3c.dom.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>java.io.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>javax.xml.parsers.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>javax.xml.transform.*</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>javax.xml.transform.dom.DOMSource</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>import</span><span style=color:#fff> </span><span style=color:#24292e>javax.xml.transform.stream.StreamResult</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>class</span> <span style=color:#1f2328>Bottin</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#cf222e>public</span><span style=color:#fff> </span><span style=color:#cf222e>static</span><span style=color:#fff> </span><span style=color:#cf222e>void</span><span style=color:#fff> </span><span style=color:#6639ba>main</span><span style=color:#1f2328>(</span>String<span style=color:#0550ae>[]</span><span style=color:#fff> </span>args<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#cf222e>throws</span><span style=color:#fff> </span>Exception<span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>DocumentBuilderFactory<span style=color:#fff> </span>factory<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>DocumentBuilderFactory<span style=color:#1f2328>.</span><span style=color:#1f2328>newInstance</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>factory<span style=color:#1f2328>.</span><span style=color:#1f2328>setNamespaceAware</span><span style=color:#1f2328>(</span><span style=color:#cf222e>true</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>DocumentBuilder<span style=color:#fff> </span>parser<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>factory<span style=color:#1f2328>.</span><span style=color:#1f2328>newDocumentBuilder</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Document<span style=color:#fff> </span>doc<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>parser<span style=color:#1f2328>.</span><span style=color:#1f2328>parse</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;bottin.xml&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Element<span style=color:#fff> </span>racine<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>doc<span style=color:#1f2328>.</span><span style=color:#1f2328>getDocumentElement</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>NodeList<span style=color:#fff> </span>personnes<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>racine<span style=color:#1f2328>.</span><span style=color:#1f2328>getChildNodes</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>args<span style=color:#0550ae>[</span>0<span style=color:#0550ae>]</span><span style=color:#1f2328>.</span><span style=color:#1f2328>equals</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;efface&#34;</span><span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>int</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>&lt;</span><span style=color:#fff> </span>personnes<span style=color:#1f2328>.</span><span style=color:#1f2328>getLength</span><span style=color:#1f2328>();</span><span style=color:#fff> </span>i<span style=color:#0550ae>++</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>Node<span style=color:#fff> </span>n<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>personnes<span style=color:#1f2328>.</span><span style=color:#1f2328>item</span><span style=color:#1f2328>(</span>i<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>n<span style=color:#1f2328>.</span><span style=color:#1f2328>getNodeType</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#0550ae>==</span><span style=color:#fff> </span>Node<span style=color:#1f2328>.</span><span style=color:#1f2328>ELEMENT_NODE</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>Element<span style=color:#fff> </span>e<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>Element<span style=color:#1f2328>)</span><span style=color:#fff> </span>n<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getAttribute</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;nom&#34;</span><span style=color:#1f2328>).</span><span style=color:#1f2328>equals</span><span style=color:#1f2328>(</span>args<span style=color:#0550ae>[</span>1<span style=color:#0550ae>]</span><span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                        </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getParentNode</span><span style=color:#1f2328>().</span><span style=color:#1f2328>removeChild</span><span style=color:#1f2328>(</span>e<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>else</span><span style=color:#fff> </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>args<span style=color:#0550ae>[</span>0<span style=color:#0550ae>]</span><span style=color:#1f2328>.</span><span style=color:#1f2328>equals</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;cherche&#34;</span><span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>int</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>&lt;</span><span style=color:#fff> </span>personnes<span style=color:#1f2328>.</span><span style=color:#1f2328>getLength</span><span style=color:#1f2328>();</span><span style=color:#fff> </span>i<span style=color:#0550ae>++</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>Node<span style=color:#fff> </span>n<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>personnes<span style=color:#1f2328>.</span><span style=color:#1f2328>item</span><span style=color:#1f2328>(</span>i<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>n<span style=color:#1f2328>.</span><span style=color:#1f2328>getNodeType</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#0550ae>==</span><span style=color:#fff> </span>Node<span style=color:#1f2328>.</span><span style=color:#1f2328>ELEMENT_NODE</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>Element<span style=color:#fff> </span>e<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>Element<span style=color:#1f2328>)</span><span style=color:#fff> </span>n<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getAttribute</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;nom&#34;</span><span style=color:#1f2328>).</span><span style=color:#1f2328>equals</span><span style=color:#1f2328>(</span>args<span style=color:#0550ae>[</span>1<span style=color:#0550ae>]</span><span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                        </span>System<span style=color:#1f2328>.</span><span style=color:#1f2328>out</span><span style=color:#1f2328>.</span><span style=color:#1f2328>println</span><span style=color:#1f2328>(</span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getAttribute</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;téléphone&#34;</span><span style=color:#1f2328>));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#cf222e>else</span><span style=color:#fff> </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>args<span style=color:#0550ae>[</span>0<span style=color:#0550ae>]</span><span style=color:#1f2328>.</span><span style=color:#1f2328>equals</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;ajoute&#34;</span><span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>boolean</span><span style=color:#fff> </span>existe<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>false</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>for</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#cf222e>int</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>0<span style=color:#1f2328>;</span><span style=color:#fff> </span>i<span style=color:#fff> </span><span style=color:#0550ae>&lt;</span><span style=color:#fff> </span>personnes<span style=color:#1f2328>.</span><span style=color:#1f2328>getLength</span><span style=color:#1f2328>();</span><span style=color:#fff> </span>i<span style=color:#0550ae>++</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>Node<span style=color:#fff> </span>n<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>personnes<span style=color:#1f2328>.</span><span style=color:#1f2328>item</span><span style=color:#1f2328>(</span>i<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>n<span style=color:#1f2328>.</span><span style=color:#1f2328>getNodeType</span><span style=color:#1f2328>()</span><span style=color:#fff> </span><span style=color:#0550ae>==</span><span style=color:#fff> </span>Node<span style=color:#1f2328>.</span><span style=color:#1f2328>ELEMENT_NODE</span><span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span>Element<span style=color:#fff> </span>e<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>Element<span style=color:#1f2328>)</span><span style=color:#fff> </span>n<span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>getAttribute</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;nom&#34;</span><span style=color:#1f2328>).</span><span style=color:#1f2328>equals</span><span style=color:#1f2328>(</span>args<span style=color:#0550ae>[</span>1<span style=color:#0550ae>]</span><span style=color:#1f2328>))</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                        </span>e<span style=color:#1f2328>.</span><span style=color:#1f2328>setAttribute</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;téléphone&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span>args<span style=color:#0550ae>[</span>2<span style=color:#0550ae>]</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                        </span>existe<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>true</span><span style=color:#1f2328>;</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#cf222e>if</span><span style=color:#fff> </span><span style=color:#1f2328>(</span><span style=color:#0550ae>!</span>existe<span style=color:#1f2328>)</span><span style=color:#fff> </span><span style=color:#1f2328>{</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>Element<span style=color:#fff> </span>p<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>doc<span style=color:#1f2328>.</span><span style=color:#1f2328>createElement</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;personne&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>p<span style=color:#1f2328>.</span><span style=color:#1f2328>setAttribute</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;nom&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span>args<span style=color:#0550ae>[</span>1<span style=color:#0550ae>]</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>p<span style=color:#1f2328>.</span><span style=color:#1f2328>setAttribute</span><span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;téléphone&#34;</span><span style=color:#1f2328>,</span><span style=color:#fff> </span>args<span style=color:#0550ae>[</span>2<span style=color:#0550ae>]</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>                </span>racine<span style=color:#1f2328>.</span><span style=color:#1f2328>appendChild</span><span style=color:#1f2328>(</span>p<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>            </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span><span style=color:#57606a>// Sauvegarde du fichier modifié</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>TransformerFactory<span style=color:#fff> </span>tf<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>TransformerFactory<span style=color:#1f2328>.</span><span style=color:#1f2328>newInstance</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>Transformer<span style=color:#fff> </span>t<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span>tf<span style=color:#1f2328>.</span><span style=color:#1f2328>newTransformer</span><span style=color:#1f2328>();</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>t<span style=color:#1f2328>.</span><span style=color:#1f2328>setOutputProperty</span><span style=color:#1f2328>(</span>OutputKeys<span style=color:#1f2328>.</span><span style=color:#1f2328>ENCODING</span><span style=color:#1f2328>,</span><span style=color:#fff> </span><span style=color:#0a3069>&#34;ISO-8859-1&#34;</span><span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>DOMSource<span style=color:#fff> </span>source<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>DOMSource<span style=color:#1f2328>(</span>doc<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>StreamResult<span style=color:#fff> </span>result<span style=color:#fff> </span><span style=color:#0550ae>=</span><span style=color:#fff> </span><span style=color:#cf222e>new</span><span style=color:#fff> </span>StreamResult<span style=color:#1f2328>(</span><span style=color:#cf222e>new</span><span style=color:#fff> </span>FileWriter<span style=color:#1f2328>(</span><span style=color:#0a3069>&#34;bottin.xml&#34;</span><span style=color:#1f2328>));</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>        </span>t<span style=color:#1f2328>.</span><span style=color:#1f2328>transform</span><span style=color:#1f2328>(</span>source<span style=color:#1f2328>,</span><span style=color:#fff> </span>result<span style=color:#1f2328>);</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff>    </span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span><span style=display:flex><span><span style=color:#fff></span><span style=color:#1f2328>}</span><span style=color:#fff>
</span></span></span></code></pre></div><p>Utilisation :</p><ul style="margin:1em 0;padding-left:2em"><li><code>java Bottin cherche Dupont
</code>→ affiche le téléphone</li><li><code>java Bottin ajoute Martin 555-1234
</code>→ ajoute ou met à jour</li><li><code>java Bottin efface Martin
</code>→ supprime la personne</li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><div class="flex flex-wrap justify-between"><a href=/inf6450-hugo/docs/semaines/semaine_12/problemes_resolus/ class="flex align-center float-left book-icon"><img src=/inf6450-hugo/svg/backward.svg alt=Previous title="Problèmes résolus">
<span>Problèmes résolus</span>
</a><a href=/inf6450-hugo/docs/semaines/semaine_12/dom_javascript_et_autres_langages/ class="flex align-center float-right book-icon"><span>DOM : JavaScript et autres langages</span>
<img src=/inf6450-hugo/svg/forward.svg alt=Next title="DOM : JavaScript et autres langages"></a></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents></nav></div></aside></main></body></html>